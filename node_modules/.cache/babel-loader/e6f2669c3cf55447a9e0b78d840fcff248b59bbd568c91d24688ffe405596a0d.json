{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Ramsheed M\\\\Desktop\\\\Adila\\\\Workspace\\\\React_Practices\\\\olx-app\\\\src\\\\Store\\\\AddtoCartContext.js\",\n  _s = $RefreshSig$();\nimport { createContext, useState, useEffect } from \"react\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport const AddCartContext = /*#__PURE__*/createContext(null);\nfunction CartProvider({\n  children\n}) {\n  _s();\n  const [productDetails, setProductDetails] = useState([]);\n  const addToCart = item => {\n    console.log(\"addtocart entry\");\n    const isItemInCart = productDetails.find(cartItem => cartItem.id === item.id); // check if the item is already in the cart\n\n    if (isItemInCart) {\n      setProductDetails(productDetails.map((cartItem // if the item is already in the cart, increase the quantity of the item\n      ) => cartItem.id === item.id ? {\n        ...cartItem,\n        quantity: cartItem.quantity + 1\n      } : cartItem // otherwise, return the cart item\n      ));\n    } else {\n      setProductDetails([...productDetails, {\n        ...item,\n        quantity: 1\n      }]); // if the item is not in the cart, add the item to the cart\n    }\n  };\n\n  useEffect(() => {\n    localStorage.setItem(\"cartItems\", JSON.stringify(productDetails));\n    console.log('storage cart items:', productDetails);\n    console.log('storage 2 cart items:', localStorage.getItem(\"cartItems\"));\n    const cartItems = localStorage.getItem(\"cartItems\");\n    console.log('cart items:', cartItems);\n    if (cartItems) {\n      setProductDetails(JSON.parse(cartItems));\n    }\n  }, [productDetails]);\n  useEffect(() => {}, []);\n  // [productDetails, setProductDetails] = useState(\n  //         localStorage.getItem(\"cartItems\")\n  //           ? JSON.parse(localStorage.getItem(\"cartItems\"))\n  //           : []\n  //       );\n  return /*#__PURE__*/_jsxDEV(AddCartContext.Provider, {\n    value: {\n      productDetails,\n      addToCart\n    },\n    children: children\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 9\n  }, this);\n}\n_s(CartProvider, \"cEp96E5f67lyHCavgU+YQn1fPdk=\");\n_c = CartProvider;\nexport default CartProvider;\nvar _c;\n$RefreshReg$(_c, \"CartProvider\");","map":{"version":3,"names":["createContext","useState","useEffect","jsxDEV","_jsxDEV","AddCartContext","CartProvider","children","_s","productDetails","setProductDetails","addToCart","item","console","log","isItemInCart","find","cartItem","id","map","quantity","localStorage","setItem","JSON","stringify","getItem","cartItems","parse","Provider","value","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["C:/Users/Ramsheed M/Desktop/Adila/Workspace/React_Practices/olx-app/src/Store/AddtoCartContext.js"],"sourcesContent":["import { createContext, useState,useEffect } from \"react\";\r\n\r\nexport const AddCartContext = createContext(null);\r\n\r\n\r\nfunction CartProvider ({children}) {\r\n\r\nconst [productDetails,setProductDetails] = useState([])\r\n\r\nconst addToCart = (item) => {\r\n    console.log(\"addtocart entry\")\r\n    const isItemInCart = productDetails.find((cartItem) => cartItem.id === item.id); // check if the item is already in the cart\r\n\r\n    if (isItemInCart) {\r\n      setProductDetails(\r\n        productDetails.map(\r\n          (\r\n            cartItem // if the item is already in the cart, increase the quantity of the item\r\n          ) =>\r\n            cartItem.id === item.id\r\n              ? { ...cartItem, quantity: cartItem.quantity + 1 }\r\n              : cartItem // otherwise, return the cart item\r\n        )\r\n      );\r\n    \r\n    } else {\r\n      setProductDetails([...productDetails, { ...item, quantity: 1 }]); // if the item is not in the cart, add the item to the cart\r\n    }\r\n    \r\n  };\r\n\r\n   useEffect(() => {\r\n    localStorage.setItem(\"cartItems\", JSON.stringify(productDetails));\r\n    console.log('storage cart items:',productDetails)\r\n    console.log('storage 2 cart items:',localStorage.getItem(\"cartItems\"))\r\n    const cartItems = localStorage.getItem(\"cartItems\");\r\n    console.log('cart items:',cartItems)\r\n    if (cartItems) {\r\n        setProductDetails(JSON.parse(cartItems));\r\n    }\r\n   }, [productDetails]);\r\n\r\n  useEffect(() => {\r\n    \r\n  }, []);\r\n// [productDetails, setProductDetails] = useState(\r\n//         localStorage.getItem(\"cartItems\")\r\n//           ? JSON.parse(localStorage.getItem(\"cartItems\"))\r\n//           : []\r\n//       );\r\n    return (\r\n        <AddCartContext.Provider value={{productDetails,addToCart}}>\r\n            {children}\r\n        </AddCartContext.Provider>\r\n    )\r\n}\r\nexport default CartProvider;"],"mappings":";;AAAA,SAASA,aAAa,EAAEC,QAAQ,EAACC,SAAS,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAE1D,OAAO,MAAMC,cAAc,gBAAGL,aAAa,CAAC,IAAI,CAAC;AAGjD,SAASM,YAAYA,CAAE;EAACC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAEnC,MAAM,CAACC,cAAc,EAACC,iBAAiB,CAAC,GAAGT,QAAQ,CAAC,EAAE,CAAC;EAEvD,MAAMU,SAAS,GAAIC,IAAI,IAAK;IACxBC,OAAO,CAACC,GAAG,CAAC,iBAAiB,CAAC;IAC9B,MAAMC,YAAY,GAAGN,cAAc,CAACO,IAAI,CAAEC,QAAQ,IAAKA,QAAQ,CAACC,EAAE,KAAKN,IAAI,CAACM,EAAE,CAAC,CAAC,CAAC;;IAEjF,IAAIH,YAAY,EAAE;MAChBL,iBAAiB,CACfD,cAAc,CAACU,GAAG,CAChB,CACEF,QAAQ,CAAC;MAAA,KAETA,QAAQ,CAACC,EAAE,KAAKN,IAAI,CAACM,EAAE,GACnB;QAAE,GAAGD,QAAQ;QAAEG,QAAQ,EAAEH,QAAQ,CAACG,QAAQ,GAAG;MAAE,CAAC,GAChDH,QAAQ,CAAC;MACjB,CACF,CAAC;IAEH,CAAC,MAAM;MACLP,iBAAiB,CAAC,CAAC,GAAGD,cAAc,EAAE;QAAE,GAAGG,IAAI;QAAEQ,QAAQ,EAAE;MAAE,CAAC,CAAC,CAAC,CAAC,CAAC;IACpE;EAEF,CAAC;;EAEAlB,SAAS,CAAC,MAAM;IACfmB,YAAY,CAACC,OAAO,CAAC,WAAW,EAAEC,IAAI,CAACC,SAAS,CAACf,cAAc,CAAC,CAAC;IACjEI,OAAO,CAACC,GAAG,CAAC,qBAAqB,EAACL,cAAc,CAAC;IACjDI,OAAO,CAACC,GAAG,CAAC,uBAAuB,EAACO,YAAY,CAACI,OAAO,CAAC,WAAW,CAAC,CAAC;IACtE,MAAMC,SAAS,GAAGL,YAAY,CAACI,OAAO,CAAC,WAAW,CAAC;IACnDZ,OAAO,CAACC,GAAG,CAAC,aAAa,EAACY,SAAS,CAAC;IACpC,IAAIA,SAAS,EAAE;MACXhB,iBAAiB,CAACa,IAAI,CAACI,KAAK,CAACD,SAAS,CAAC,CAAC;IAC5C;EACD,CAAC,EAAE,CAACjB,cAAc,CAAC,CAAC;EAErBP,SAAS,CAAC,MAAM,CAEhB,CAAC,EAAE,EAAE,CAAC;EACR;EACA;EACA;EACA;EACA;EACI,oBACIE,OAAA,CAACC,cAAc,CAACuB,QAAQ;IAACC,KAAK,EAAE;MAACpB,cAAc;MAACE;IAAS,CAAE;IAAAJ,QAAA,EACtDA;EAAQ;IAAAuB,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACY,CAAC;AAElC;AAACzB,EAAA,CAlDQF,YAAY;AAAA4B,EAAA,GAAZ5B,YAAY;AAmDrB,eAAeA,YAAY;AAAC,IAAA4B,EAAA;AAAAC,YAAA,CAAAD,EAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}